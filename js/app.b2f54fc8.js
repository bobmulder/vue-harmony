(function(e){function t(t){for(var r,a,u=t[0],i=t[1],l=t[2],f=0,d=[];f<u.length;f++)a=u[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);b&&b(t);while(d.length)d.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,u=1;u<n.length;u++){var i=n[u];0!==o[i]&&(r=!1)}r&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},c=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/vue-harmony/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var b=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),o={id:"app"};function c(e,t){var n=Object(r["j"])("Dashboard");return Object(r["h"])(),Object(r["c"])("div",o,[Object(r["e"])(n)])}var a={key:0},u={key:1},i={key:2};function l(e,t){return Object(r["h"])(),Object(r["c"])("div",null,[Object(r["m"])(Object(r["e"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.chordKey=t})},null,512),[[r["l"],e.chordKey]]),Object(r["m"])(Object(r["e"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.type=t})},null,512),[[r["l"],e.type]]),Object(r["e"])("button",{onClick:t[3]||(t[3]=function(){return e.play.apply(e,arguments)})},"Play"),Object(r["e"])("pre",null,"      "+Object(r["k"])(e.currentNotes)+"\n    ",1),e.chord?(Object(r["h"])(),Object(r["c"])("h2",a,"Sounds like a "+Object(r["k"])(e.chord)+" chord",1)):Object(r["d"])("",!0),e.negativeChord?(Object(r["h"])(),Object(r["c"])("h2",u,"The negative chord is a "+Object(r["k"])(e.negativeChord)+" chord",1)):Object(r["d"])("",!0),e.negativeNote?(Object(r["h"])(),Object(r["c"])("h2",i,"The negative version is a "+Object(r["k"])(e.negativeNote)+" note",1)):Object(r["d"])("",!0)])}n("99af"),n("d81d"),n("b0c0"),n("4de4");var b=n("2909"),f=n("c62b"),d=n.n(f),v=n("772f");function p(){var e=Object(r["i"])([]),t=Object(r["i"])(null),n=Object(r["a"])((function(){return t.value?t.value:d.a.outputs[0].id})),o=Object(r["i"])([]),c=Object(r["a"])((function(){if(0===o.value.length)return[];var e=v["a"].detect(o.value.map((function(e){return e.name})));return console.log("detect for",o.value.map((function(e){return e.name})),e),e.length>0?e:[]})),a=Object(r["a"])((function(){return c.value.length>0?c.value.shift():null})),u=function(e){var t=d.a.getOutputById(n.value);console.log(d.a.outputs,n.value,t),t.playNote(e,1)};return Object(r["f"])((function(){console.log("onMounted"),d.a.enable((function(t){if(t)return console.log("WebMidi could not be enabled.",t);console.log("WebMidi is enabled!",d.a.inputs),e.value=d.a.inputs;var n=d.a.inputs[0];n.addListener("noteon","all",(function(e){o.value=[].concat(Object(b["a"])(o.value),[e.note]).sort((function(e,t){return e.number-t.number}))})),n.addListener("noteoff","all",(function(e){o.value=o.value.filter((function(t){return t.number!==e.note.number}))}))}))})),Object(r["g"])((function(){})),{currentNotes:o,chords:c,chord:a,playNote:u}}function s(e,t){var n=v["b"].toMidi(t),r=v["b"].toMidi(e),o=[n+3,n+4];if(r<=o[0]){var c=o[0]-r,a=o[1]+c;return v["b"].midiToNoteName(a,{pitchClass:!0})}if(r>=o[1]){var u=r-o[1],i=o[0]-u;return v["b"].midiToNoteName(i,{pitchClass:!0})}}function h(e,t){console.log("calculateNegativeChord",e,t);var n=e.map((function(e){return s(e,t)}));return v["a"].detect(n)}var O={setup:function(){var e=p(),t=e.currentNotes,n=e.chord,o=e.playNote,c=Object(r["i"])("C"),a=Object(r["i"])("major"),u=Object(r["a"])((function(){return""})),i=Object(r["a"])((function(){if(1===t.value.length){var e="".concat(t.value[0].name).concat(t.value[0].octave),n="".concat(c.value).concat(t.value[0].octave);return s(e,n)}})),l=Object(r["a"])((function(){if(n&&!(t.value.length<1)){var e="".concat(c.value).concat(t.value[0].octave);return h(t.value.map((function(e){return"".concat(e.name).concat(e.octave)})),e)}}));function b(){o("G4")}return{currentNotes:t,chordKey:c,type:a,play:b,chord:n,inverted:u,negativeNote:i,negativeChord:l}}};O.render=l;var j=O,y={name:"App",components:{Dashboard:j}};n("64be");y.render=c;var g=y;Object(r["b"])(g).mount("#app")},"64be":function(e,t,n){"use strict";n("c894")},c894:function(e,t,n){}});
//# sourceMappingURL=app.b2f54fc8.js.map